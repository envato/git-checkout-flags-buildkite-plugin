#!/bin/bash
set -euo pipefail

if [[ -n "${BUILDKITE_PLUGIN_GIT_CHECKOUT_FLAGS_CLONE:-}" ]]; then
  export BUILDKITE_GIT_CLONE_FLAGS="${BUILDKITE_PLUGIN_GIT_CHECKOUT_FLAGS_CLONE}"
  echo "Setting BUILDKITE_GIT_CLONE_FLAGS to: ${BUILDKITE_GIT_CLONE_FLAGS}"
fi

if [[ -n "${BUILDKITE_PLUGIN_GIT_CHECKOUT_FLAGS_FETCH:-}" ]]; then
  export BUILDKITE_GIT_FETCH_FLAGS="${BUILDKITE_PLUGIN_GIT_CHECKOUT_FLAGS_FETCH}"
  echo "Setting BUILDKITE_GIT_FETCH_FLAGS to: ${BUILDKITE_GIT_FETCH_FLAGS}"
fi

if [[ -n "${BUILDKITE_PLUGIN_GIT_CHECKOUT_FLAGS_CLEAN:-}" ]]; then
  export BUILDKITE_GIT_CLEAN_FLAGS="${BUILDKITE_PLUGIN_GIT_CHECKOUT_FLAGS_CLEAN}"
  echo "Setting BUILDKITE_GIT_CLEAN_FLAGS to: ${BUILDKITE_GIT_CLEAN_FLAGS}"
fi
